<html lang="en"><head><meta charSet="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1.0"></meta><meta http-equiv="X-UA-Compatible" content="ie=edge"></meta><title>bob the static site builder</title><link rel="preconnect" href="https://fonts.gstatic.com"></link><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Source+Code+Pro:wght@400;700;900&display=swap" rel="stylesheet"></link><style>:root {
  --nord0: #2e3440;
  --nord1: #3b4252;
  --nord2: #434c5e;
  --nord3: #4c566a;
  --nord4: #d8dee9;
  --nord5: #e5e9f0;
  --nord6: #eceff4;
  --nord7: #8fbcbb;
  --nord8: #88c0d0;
  --nord9: #81a1c1;
  --nord10: #5e81ac;
  --nord11: #bf616a;
  --nord12: #d08770;
  --nord13: #ebcb8b;
  --nord14: #a3be8c;
  --nord15: #b48ead;

  --margin: 1rem;
  --max-width: min(700px, 100% - 4 * var(--margin));

  --color-bg: var(--nord0);
  --color-fg: var(--nord6);
  --color-body: var(--nord1);
  --color-indent: var(--nord3);
  --color-muted: var(--nord4);
  --color-accent: var(--nord8);

  --font-text: 'Inter', sans-serif;
  --font-heading: 'Source Code Pro', monospace;
  --font-mono: 'Source Code Pro', monospace;
}

@media (min-width: 500px) {
  :root {
    --margin: 1.5rem;
  }
}

@media (min-width: 768px) {
  :root {
    --margin: 2rem;
  }
}

body {
  padding: 0;
  margin: 0;
  font-family: var(--font-text);
  background: var(--color-body);
  color: var(--color-fg);
}

body > header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: var(--margin);
  color: var(--color-muted);
  font-family: var(--font-heading);
}

body > header > a {
  text-decoration: none;
  font-weight: 900;
  font-size: 1.5rem;
  background: var(--color-accent);
  text-align: center;
  border-radius: 25%;
  color: var(--color-body);
  padding: 0 0.25rem;
}

body > header > a:hover {
  color: var(--color-bg);
}

body > header ul {
  display: grid;
  grid-auto-flow: column;
  gap: 1rem;
  list-style: none;
  padding: 0;
  margin: 0;
}

body > h1 {
  max-width: var(--max-width);
  margin: calc(2 * var(--margin)) auto;
  padding: 0 var(--margin);
  color: var(--color-fg);
  font-family: var(--font-heading);
}

main {
  max-width: var(--max-width);
  margin: var(--margin) auto;
  padding: 0 var(--margin);
  background: var(--color-bg);
  border-radius: 1rem;
  line-height: 1.5;
}

main::before,
main::after {
  content: ' ';
  display: block;
  contain: layout;
  margin: var(--margin) 0;
}

h1 a,
h2 a,
h3 a,
h4 a,
h5 a,
h6 a {
  text-decoration: none;
}

a {
  color: inherit;
  transition: color ease-in 200ms;
}

a:hover {
  color: var(--color-accent);
}

pre {
  max-width: 100%;
  display: block;
  overflow: auto;
  border: 1px solid var(--nord13);
  padding: 1em;
  margin: 1em 0;
}

code {
  font-family: var(--font-mono);
  line-height: initial;
}

:not(pre) > code {
  color: var(--nord0);
  background: var(--nord13);
  padding: 0 0.1875em;
}

article + article {
  margin-top: calc(2 * var(--margin));
}

article + article::before {
  content: '';
  display: block;
  height: 1px;
  width: 50%;
  background: var(--color-indent);
  margin: 0 auto calc(2 * var(--margin));
}

img {
  display: block;
  max-width: 100%;
}

.button-link {
  border: 1px solid var(--color-accent);
  border-radius: 0.5rem;
  padding: 0.5rem 1rem;
  display: inline-block;
  text-decoration: none;
}

blockquote {
  border: 1px solid var(--color-accent);
  margin: 1rem;
  padding: 0 1rem;
}

body > footer {
  margin: var(--margin);
  text-align: center;
  color: var(--color-muted);
  font-family: var(--font-heading);
}

body > nav ul {
  display: grid;
  grid-auto-flow: column;
  list-style: none;
  padding: 0;
  margin: var(--margin);
  justify-content: center;
  gap: 1rem;
}

[aria-current=page] {
  font-weight: 700;
}

iframe {
	background: white;
	display: block;
	width: 100%;
	height: max(10rem, 20vh);
	margin: 1em 0;
}
</style></head><body><header><a href="/">bob</a><ul><li><a href="/docs/getting-started/">Documentation</a> <a href="/blog/">Blog</a></li></ul></header><nav><ul><li><a href="/docs/getting-started/">Getting started</a></li><li><a href="/docs/list-pages/" aria-current="page">List pages</a></li><li><a href="/docs/styling/">Styling and CSS</a></li></ul></nav><h1>List pages</h1><main><p>Most websites have list pages of some sort - lists of blog posts on a marketing site or lists products on an ecommerce site. In order to create these list pages, your layout needs to know about not only the list page itself, but also the pages that should be rendered into the list. In <code>bob</code> this can be solved by providing a glob of content files to use in the layout. This is done by setting the <code>wantsPages</code> parameter on the layout <code>Component</code>.</p>
<h2 id="example">Example</h2>
<p>Given the below folder structure, we want to get all pages to show in a listing on the index / home page.</p>

<pre><code>site root
└-- content
|   └-- index.md
|   └-- page-1.md
|   └-- page-2.md
|   └-- page-3.md
└-- layouts
    └-- index.tsx
</code></pre>
<p>In the index layout, we specify the glob <code>*.md</code>. This glob is relative to the <code>content</code> folder, and thus means &quot;all markdown files in the content root&quot;.</p>
<p>The pages that match this glob are returned to the layout (or any component, really) in the <code>context</code> argument. These pages receive the complete <code>Page</code> objects for the wanted pages. This means you can use properties like <code>title</code>, <code>summary</code> and <code>location.url</code>. The context is the second argument to the <code>Component</code> (the first being <code>Props</code>).</p>
<p><code>layouts/index.tsx</code><pre><code>/** @jsx h */

import { Component, h } from &quot;../../../../../mod.ts&quot;;

type EmptyObject = Record&lt;string, never&gt;;

const Index: Component&lt;EmptyObject, unknown, EmptyObject&gt; = (
  _props,
  { page: { content }, wantedPages },
) =&gt; (
  &lt;body&gt;
    {content}
    &lt;main&gt;
      {wantedPages?.map((page) =&gt; (
        &lt;article&gt;
          &lt;h2&gt;{page.title}&lt;/h2&gt;
          {page.summary}
        &lt;/article&gt;
      ))}
    &lt;/main&gt;
  &lt;/body&gt;
);

Index.wantsPages = &quot;*.md&quot;;

export default Index;
</code></pre></p>
<blockquote>
<p>Beware: The <code>wantedPages</code> array currently does not include the page itself. This is by design (as you can guess from the example), but might change in the future.</p>
</blockquote>
<h2 id="result">Result</h2>
<p><code>expected/index.html</code><iframe src="expected/index.html"></iframe></p>
<h3 id="content">Content</h3>
<p><code>content/index.md</code><pre><code># Welcome to my page
</code></pre></p>
<p><code>content/page-1.md</code><pre><code>---
title: This is the first page
---

I have some content here. Since this text is not very long, all of it will be used as a summary. Normally, the summary is capped at 500 characters.
</code></pre></p>
</main><footer>Static sites should be fast, including updating content</footer></body></html>